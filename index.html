<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Locked Phone - Diary</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family:
          -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        padding: 20px;
      }

      .phone {
        width: 375px;
        height: 667px;
        background: #000;
        border-radius: 40px;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        overflow: hidden;
        position: relative;
        border: 8px solid #1a1a1a;
      }

      .notch {
        position: absolute;
        top: 0;
        left: 50%;
        transform: translateX(-50%);
        width: 200px;
        height: 30px;
        background: #000;
        border-radius: 0 0 20px 20px;
        z-index: 100;
      }

      .screen {
        width: 100%;
        height: 100%;
        background: #111;
        position: relative;
        overflow-y: auto;
      }

      .lock-screen,
      .enigma-screen,
      .diary-screen {
        width: 100%;
        height: 100%;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        padding: 40px 30px;
        color: #fff;
      }

      .hidden {
        display: none !important;
      }

      /* Lock Screen */
      .time {
        font-size: 72px;
        font-weight: 200;
        margin-bottom: 10px;
      }

      .date {
        font-size: 18px;
        color: #999;
        margin-bottom: 60px;
      }

      .lock-icon {
        font-size: 48px;
        margin-bottom: 20px;
      }

      .unlock-btn {
        background: rgba(255, 255, 255, 0.15);
        border: 2px solid rgba(255, 255, 255, 0.3);
        color: #fff;
        padding: 15px 40px;
        font-size: 16px;
        border-radius: 25px;
        cursor: pointer;
        transition: all 0.3s;
        backdrop-filter: blur(10px);
      }

      .unlock-btn:hover {
        background: rgba(255, 255, 255, 0.25);
        transform: scale(1.05);
      }

      /* Enigma Screen */
      .enigma-container {
        width: 100%;
        max-width: 320px;
      }

      .enigma-header {
        text-align: center;
        margin-bottom: 30px;
      }

      .enigma-title {
        font-size: 24px;
        margin-bottom: 10px;
      }

      .enigma-progress {
        font-size: 14px;
        color: #999;
      }

      .enigma-box {
        background: rgba(255, 255, 255, 0.1);
        border-radius: 15px;
        padding: 25px;
        margin-bottom: 20px;
        backdrop-filter: blur(10px);
      }

      .enigma-question {
        font-size: 16px;
        line-height: 1.6;
        margin-bottom: 20px;
        color: #e0e0e0;
      }

      .enigma-hint {
        font-size: 12px;
        color: #888;
        font-style: italic;
        margin-bottom: 15px;
      }

      .enigma-input {
        width: 100%;
        padding: 12px;
        font-size: 16px;
        border-radius: 8px;
        border: 2px solid rgba(255, 255, 255, 0.2);
        background: rgba(255, 255, 255, 0.05);
        color: #fff;
        margin-bottom: 15px;
      }

      .enigma-input:focus {
        outline: none;
        border-color: #667eea;
      }

      .submit-btn {
        width: 100%;
        padding: 12px;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        border: none;
        border-radius: 8px;
        color: #fff;
        font-size: 16px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s;
      }

      .submit-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
      }

      .submit-btn:disabled {
        opacity: 0.5;
        cursor: not-allowed;
      }

      .error-msg {
        color: #ff6b6b;
        font-size: 14px;
        margin-top: 10px;
        text-align: center;
      }

      .success-msg {
        color: #51cf66;
        font-size: 14px;
        margin-top: 10px;
        text-align: center;
      }

      /* Diary Screen */
      .diary-header {
        width: 100%;
        background: rgba(255, 255, 255, 0.1);
        padding: 15px;
        text-align: center;
        position: sticky;
        top: 0;
        backdrop-filter: blur(10px);
        z-index: 10;
      }

      .diary-title {
        font-size: 20px;
        font-weight: 600;
      }

      .diary-content {
        flex: 1;
        width: 100%;
        overflow-y: auto;
        padding: 20px;
      }

      .diary-entry {
        background: rgba(255, 255, 255, 0.08);
        border-radius: 12px;
        padding: 20px;
        margin-bottom: 15px;
        border-left: 4px solid #667eea;
      }

      .entry-date {
        font-size: 12px;
        color: #888;
        margin-bottom: 10px;
      }

      .entry-title {
        font-size: 18px;
        font-weight: 600;
        margin-bottom: 10px;
        color: #667eea;
      }

      .entry-text {
        font-size: 14px;
        line-height: 1.8;
        color: #ddd;
      }

      .navigation {
        display: flex;
        gap: 10px;
        margin-top: 20px;
      }

      .nav-btn {
        flex: 1;
        padding: 10px;
        background: rgba(255, 255, 255, 0.1);
        border: 1px solid rgba(255, 255, 255, 0.2);
        color: #fff;
        border-radius: 8px;
        cursor: pointer;
        transition: all 0.3s;
      }

      .nav-btn:hover {
        background: rgba(255, 255, 255, 0.2);
      }

      .nav-btn.active {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        border-color: transparent;
      }

      .page-indicator {
        text-align: center;
        color: #888;
        font-size: 12px;
        margin-top: 10px;
      }
    </style>
  </head>
  <body>
    <div class="phone">
      <div class="notch"></div>
      <div class="screen">
        <!-- Lock Screen -->
        <div class="lock-screen" id="lockScreen">
          <div class="time" id="currentTime">12:34</div>
          <div class="date" id="currentDate">Monday, January 1</div>
          <div class="lock-icon">üîí</div>
          <button class="unlock-btn" onclick="startEnigmas()">Unlock</button>
        </div>

        <!-- Enigma Screen -->
        <div class="enigma-screen hidden" id="enigmaScreen">
          <div class="enigma-container">
            <div class="enigma-header">
              <div class="enigma-title">üß© Unlock Challenge</div>
              <div class="enigma-progress" id="enigmaProgress">
                Enigma 1 of 5
              </div>
            </div>
            <div class="enigma-box">
              <div class="enigma-question" id="enigmaQuestion"></div>
              <div class="enigma-hint" id="enigmaHint"></div>
              <input
                type="text"
                class="enigma-input"
                id="enigmaInput"
                placeholder="Enter your answer..."
              />
              <button class="submit-btn" onclick="checkAnswer()">
                Submit Answer
              </button>
              <div id="enigmaMessage"></div>
            </div>
          </div>
        </div>

        <!-- Diary Screen -->
        <div class="diary-screen hidden" id="diaryScreen">
          <div class="diary-header">
            <div class="diary-title">üìî Personal Diary</div>
          </div>
          <div class="diary-content" id="diaryContent">
            <!-- Diary entries will be loaded here -->
          </div>
        </div>
      </div>
    </div>

    <script>
      // Update time and date
      function updateTime() {
        const now = new Date();
        const hours = String(now.getHours()).padStart(2, "0");
        const minutes = String(now.getMinutes()).padStart(2, "0");
        document.getElementById("currentTime").textContent =
          `${hours}:${minutes}`;

        const options = { weekday: "long", month: "long", day: "numeric" };
        document.getElementById("currentDate").textContent =
          now.toLocaleDateString("en-US", options);
      }
      updateTime();
      setInterval(updateTime, 1000);

      // Enigmas
      const enigmas = [
        {
          question:
            "I speak without a mouth and hear without ears. I have no body, but I come alive with wind. What am I?",
          hint: "Think about sound...",
          answer: "echo",
        },
        {
          question: "The more you take, the more you leave behind. What am I?",
          hint: "Think about walking...",
          answer: "footsteps",
        },
        {
          question:
            "I am not alive, but I grow; I don't have lungs, but I need air; I don't have a mouth, but water kills me. What am I?",
          hint: "Think about something hot...",
          answer: "fire",
        },
        {
          question:
            "What has keys but no locks, space but no room, and you can enter but can't go inside?",
          hint: "Think about technology...",
          answer: "keyboard",
        },
        {
          question:
            "I watch the crowd from walls and beams,I know your secrets, your sleepy dreams.At EPI Digital, I quietly stay,Guiding your hunger in a subtle way...who am I ?",
          hint: "Chat Me y3awench üòÄ",
          answer: "buvette digital",
        },
      ];

      let currentEnigma = 0;

      function startEnigmas() {
        document.getElementById("lockScreen").classList.add("hidden");
        document.getElementById("enigmaScreen").classList.remove("hidden");
        loadEnigma();
      }

      function loadEnigma() {
        if (currentEnigma >= enigmas.length) {
          unlockDiary();
          return;
        }

        const enigma = enigmas[currentEnigma];
        document.getElementById("enigmaQuestion").textContent = enigma.question;
        document.getElementById("enigmaHint").textContent =
          `Hint: ${enigma.hint}`;
        document.getElementById("enigmaProgress").textContent =
          `Enigma ${currentEnigma + 1} of ${enigmas.length}`;
        document.getElementById("enigmaInput").value = "";
        document.getElementById("enigmaMessage").textContent = "";
      }

      function checkAnswer() {
        const userAnswer = document
          .getElementById("enigmaInput")
          .value.toLowerCase()
          .trim();
        const correctAnswer = enigmas[currentEnigma].answer.toLowerCase();
        const messageEl = document.getElementById("enigmaMessage");

        if (userAnswer === correctAnswer) {
          messageEl.className = "success-msg";
          messageEl.textContent = "‚úì Correct! Loading next challenge...";

          setTimeout(() => {
            currentEnigma++;
            loadEnigma();
          }, 1500);
        } else {
          messageEl.className = "error-msg";
          messageEl.textContent = "‚úó Incorrect. Try again!";
        }
      }

      // Handle Enter key
      document.addEventListener("DOMContentLoaded", function () {
        document
          .getElementById("enigmaInput")
          .addEventListener("keypress", function (e) {
            if (e.key === "Enter") {
              checkAnswer();
            }
          });
      });

      // Diary entries
      const diaryEntries = [
        {
          date: "February 2, 2026",
          title: "The Move",
          text: "Today I completed my move into the new building. The offer was unexpectedly generous‚Äîspacious apartment, minimal cost, and an unusual number of invitations encouraging me to accept. Everything happened quickly, almost too easily. I chose not to question it. Opportunities like this rarely present themselves twice.",
        },
        {
          date: "February 3, 2026",
          title: "First Night",
          text: "My first night here was quiet, unnervingly so. The walls are thick, the corridors long, and the silence feels deliberate. I did not meet any neighbors, yet I had the strange impression that I was not alone. The building does not feel empty.",
        },
        {
          date: "February 4, 2026",
          title: "Unusual Sounds",
          text: "While reviewing case files late this evening, I heard footsteps outside my door. They stopped when I stood up. When I opened the door, the corridor was empty. I attributed it to the structure settling, though the explanation felt insufficient.",
        },
        {
          date: "February 5, 2026",
          title: "Exploration",
          text: "I took time today to explore the building. Certain floors seem absent from the directory, and the stairwell feels longer than it should. Mirrors in common areas reflect strangely, as if hesitating before copying my movements. I laughed it off, but locked my door earlier than usual.",
        },
        {
          date: "February 6, 2026",
          title: "Disturbed Sleep",
          text: "I dreamed of my previous home. In the dream, the doors would not open from the inside. I woke suddenly and noticed the living room light was on. I am certain I turned it off before going to bed.",
        },
        {
          date: "February 7, 2026",
          title: "A Neighbor",
          text: "I crossed paths with another resident today. He avoided eye contact and carried a heavy keyring‚Äîfar more keys than necessary. None of them made a sound as he walked past me. The encounter left me unsettled for the rest of the day.",
        },
        {
          date: "February 8, 2026",
          title: "Voices",
          text: "Tonight, I heard voices coming from within the walls. They were faint, overlapping, impossible to fully understand. One voice felt disturbingly familiar. I remained still, listening, until the whispers abruptly stopped‚Äîas if they were aware of my attention.",
        },
        {
          date: "February 9, 2026",
          title: "Something Is Wrong",
          text: "I can no longer ignore the feeling that something is wrong. The building feels watchful, responsive. Doors hesitate before opening. Reflections feel distant. I have the impression that my presence here was not accidental. This place did not simply welcome me‚Äîit chose me.",
        },
      ];

      function unlockDiary() {
        document.getElementById("enigmaScreen").classList.add("hidden");
        document.getElementById("diaryScreen").classList.remove("hidden");
        loadDiaryPage(0);
      }

      let currentPage = 0;
      const entriesPerPage = 2;

      function loadDiaryPage(page) {
        currentPage = page;
        const start = page * entriesPerPage;
        const end = start + entriesPerPage;
        const pageEntries = diaryEntries.slice(start, end);

        let html = "";
        pageEntries.forEach((entry) => {
          html += `
                    <div class="diary-entry">
                        <div class="entry-date">${entry.date}</div>
                        <div class="entry-title">${entry.title}</div>
                        <div class="entry-text">${entry.text}</div>
                    </div>
                `;
        });

        const totalPages = Math.ceil(diaryEntries.length / entriesPerPage);
        html += `
                <div class="navigation">
                    <button class="nav-btn ${page === 0 ? "" : "active"}" onclick="loadDiaryPage(${page - 1})" ${page === 0 ? "disabled" : ""}>‚Üê Previous</button>
                    <button class="nav-btn ${page === totalPages - 1 ? "" : "active"}" onclick="loadDiaryPage(${page + 1})" ${page === totalPages - 1 ? "disabled" : ""}>Next ‚Üí</button>
                </div>
                <div class="page-indicator">Page ${page + 1} of ${totalPages}</div>
            `;

        document.getElementById("diaryContent").innerHTML = html;
      }
    </script>
  </body>
</html>
